<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.ico">

    <title>Dash</title>

    <link href="main.css" rel="stylesheet" type="text/css">
    <link href="style.css" rel="stylesheet" type="text/css">
    <link href="install.css" rel="stylesheet" type="text/css">
	<link href="http://fonts.googleapis.com/css?family=Acme" rel="stylesheet" type="text/css">
	
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">
      <div class="row install">
        <div class="col-md-5 dash"></div>
        <div class="col-md-7 add-module-page">
        	% if defined('success') and get('success') == 1:
        		<h1>The additional modules have been successfully installed!</h1>
        	% else:
	        	% if defined('error'):
					<h1>{{ get('error') }}</h1>
				% else:				
					<h1>Welcome back, {{ fname }}!<br />How may I be of service?</h1>
				% end
				<form name="add-module" action="/add-module" method="POST">
					<div id="modules">
						<h3 class="instruction">Select the additional modules you'd like to install:</h3><br />
						<h4 class="note">(Modules already installed will not appear below)</h4>
						% if defined('widgets'):
							% installed_modules = []
							% for name, properties in get('widgets').items():
								% installed_modules.append(name)
							% end
							% if defined('modules'):
								% for name, properties in get('modules').items():
									% if properties['Module'] not in installed_modules:
										% if 'Module' in properties:
											<input id="{{properties['Module']}}" name="module" type="checkbox" value="{{properties['Module']}}" /><label for="{{properties['Module']}}">{{properties['Module']}}
										% end
										% if 'Author' in properties:
											(by {{properties['Author']}})
										% end
									% end
									</label>
		            			% end
							% end
						% end
					</div>
				<div style="clear:both;"></div><br />	
				<input type="submit" class="btn btn-default btn-primary" value="Install additional modules" />
			</form>
			% end
        	<button class="btn btn-default btn-primary return_btn" onclick="location.href='/dashboard'">Return to the dashboard</button>
        </div>
	  </div>
    </div>

	<div id="footer">
		<div class="container">
			<ul class="nav nav-pills">
				<li><a href="http://alanplotko.com/">&copy; 2014 Alan Plotko</a></li>
				<li><a href="https://github.com/RDrazard/Dash/">Fork Dash on GitHub</a></li>
			</ul>
		</div>
	</div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="main.js"></script>
  </body>
</html>
